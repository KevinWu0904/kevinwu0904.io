---
title: 聊一聊日历的系统设计（下）
toc: true
authors:
  - kevinwu
tags:
  - architecture
series:
  - 架构设计精粹
date: '2023-09-14'
lastmod: '2023-09-14'
draft: true
---

## 前言
[《聊一聊日历的系统设计（上）》](../arch-calendar) 在上篇中，我结合[RFC5545](https://datatracker.ietf.org/doc/html/rfc5545)讲述了日历业务的两大核心概念：**日历**和**日程**。由于日程可以具备**重复性**，造成了日历业务远比表面看上去的要更复杂得多。而**如何处理好重复性日程**也成为日历系统设计的核心难点之一，同时由于日历业务较为小众，目前业界并没有公开过广泛受认可的最佳实践，所以关于日历的系统设计到底应该怎么做，其实是**见仁见智**的。

在下篇中，我打算借鉴[DDD](https://en.wikipedia.org/wiki/Domain-driven_design)的领域建模思想，从业务场景出发，聊一聊日历的系统设计思路。

## <font color="#FF0000">重要声明</font>
<font color="#FF0000"> **本文内容与飞书日历的设计现状并无任何关系，仅仅是代表个人的理解！飞书日历的系统设计由于合规和历史技术债的原因，是比较复杂的。** </font>

## 业务架构
### 业务场景
从通用的业务建模思路出发，我们首先要明确的是：系统针对**哪些角色**，在**哪些业务场景下**，提供**哪些产品能力**。这类似于DDD中的事件风暴，所谓事件风暴其实是指一种由多个职能角色（产品、研发、测试）集中式罗列业务场景，再进行归纳的活动。